<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Military Innovation Assessment Framework</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @media print { .no-print { display: none; } }
        .score-badge { border-radius: 9999px; padding: 0.25rem 0.75rem; font-weight: 700; font-size: 0.85rem; }
    </style>
</head>
<body class="bg-gray-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef, useMemo } = React;

        const DIMENSIONS = {
            discontinuity: {
                name: "Discontinuity",
                description: "Breaks existing patterns rather than extending them",
                indicators: [
                    { name: "Enemy OODA disruption", explanation: "The innovation throws off an adversary's observe, orient, decide, act (OODA) loop.", color: 'rgba(79, 70, 229, 1)' },
                    { name: "Doctrinal breakpoints", explanation: "It makes existing military doctrine obsolete, requiring major revisions.", color: 'rgba(79, 70, 229, 0.8)' },
                    { name: "Shift in kill-chain topology", explanation: "It fundamentally changes the sequence of finding, fixing, and finishing a target.", color: 'rgba(79, 70, 229, 0.6)' },
                    { name: "Adversary scrambles to counter", explanation: "It causes adversaries to openly panic or divert significant resources to find a countermeasure.", color: 'rgba(79, 70, 229, 0.4)' }
                ]
            },
            irreversibility: {
                name: "Irreversibility",
                description: "Creates new baseline conditions that cannot be undone",
                indicators: [
                    { name: "Sunk training pipelines", explanation: "It requires deep, long-term investments in new training programs and human capital.", color: 'rgba(239, 68, 68, 1)' },
                    { name: "Logistics/infrastructure path dependence", explanation: "It creates new dependencies on specific logistics, supply chains, or infrastructure.", color: 'rgba(239, 68, 68, 0.8)' },
                    { name: "Adversary compulsion to mirror", explanation: "It forces adversaries to develop a similar capability at great cost to remain competitive.", color: 'rgba(239, 68, 68, 0.6)' },
                    { name: "Force-structure changes", explanation: "It leads to permanent changes in the organization of military units or commands.", color: 'rgba(239, 68, 68, 0.4)' }
                ]
            },
            generative: {
                name: "Generative Capacity",
                description: "Spawns further developments across multiple domains",
                indicators: [
                    { name: "Follow-on doctrines/capabilities", explanation: "It serves as a foundation for a range of subsequent military concepts or technologies.", color: 'rgba(34, 197, 94, 1)' },
                    { name: "Cross-domain spillovers", explanation: "The innovation's effects extend beyond its original domain, such as from land to sea or air.", color: 'rgba(34, 197, 94, 0.8)' },
                    { name: "Budget migration", explanation: "It causes defense funding to shift away from legacy systems to new areas.", color: 'rgba(34, 197, 94, 0.6)' },
                    { name: "New capability categories", explanation: "It is so unique that entirely new labels or categories are created to describe it.", color: 'rgba(34, 197, 94, 0.4)' }
                ]
            },
            cognitive: {
                name: "Cognitive Disruption",
                description: "Forces fundamental reconceptualization of problems",
                indicators: [
                    { name: "Doctrinal rewrites", explanation: "It necessitates a complete re-evaluation and rewriting of military doctrine.", color: 'rgba(234, 179, 8, 1)' },
                    { name: "PME syllabus changes", explanation: "It becomes a core topic in professional military education (PME), requiring new curricula.", color: 'rgba(234, 179, 8, 0.8)' },
                    { name: "Wargame outcome reversals", explanation: "It changes the expected outcomes of wargames, upending old assumptions.", color: 'rgba(234, 179, 8, 0.6)' },
                    { name: "Senior guidance reframes metrics", explanation: "Senior leaders introduce new ways of measuring success, making old metrics irrelevant.", color: 'rgba(234, 179, 8, 0.4)' }
                ]
            }
        };

        const INITIAL_SCORES = {
            discontinuity: [0, 0, 0, 0],
            irreversibility: [0, 0, 0, 0],
            generative: [0, 0, 0, 0],
            cognitive: [0, 0, 0, 0]
        };

        const EXAMPLES = {
            "Stirrups": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [5, 5, 5, 5], cognitive: [5, 5, 5, 5] } },
            "Minie Ball/Connoidal Bullet": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [4, 4, 3, 3], cognitive: [5, 5, 5, 5] } },
            "Machine Gun": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [5, 5, 5, 5], cognitive: [5, 5, 5, 5] } },
            "Tank": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [5, 5, 5, 5], cognitive: [5, 5, 5, 5] } },
            "Carrier Aviation": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [5, 5, 5, 5], cognitive: [5, 5, 5, 5] } },
            "Nuclear Weapons": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [5, 5, 5, 5], cognitive: [5, 5, 5, 5] } },
            "Blitzkrieg": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [5, 5, 5, 5], cognitive: [5, 5, 5, 5] } },
            "Stealth": { scores: { discontinuity: [4, 4, 3, 3], irreversibility: [3, 3, 2, 2], generative: [4, 4, 3, 3], cognitive: [2, 2, 1, 1] } },
            "PGMs": { scores: { discontinuity: [3, 3, 2, 2], irreversibility: [2, 2, 1, 1], generative: [4, 4, 3, 3], cognitive: [2, 2, 1, 1] } },
            "Networkâ€‘Centric Warfare": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [5, 5, 5, 5], generative: [5, 5, 5, 5], cognitive: [5, 5, 5, 5] } },
            "UAVs": { scores: { discontinuity: [3, 3, 2, 2], irreversibility: [2, 2, 1, 1], generative: [4, 4, 3, 3], cognitive: [2, 2, 1, 1] } },
            "Cyber Warfare": { scores: { discontinuity: [4, 4, 3, 3], irreversibility: [3, 3, 2, 2], generative: [5, 5, 4, 4], cognitive: [3, 3, 2, 2] } },
            "ASBM": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [4, 4, 3, 3], generative: [3, 3, 2, 2], cognitive: [5, 5, 4, 4] } },
            "Lasers": { scores: { discontinuity: [5, 5, 5, 5], irreversibility: [4, 4, 3, 3], generative: [4, 4, 3, 3], cognitive: [5, 5, 4, 4] } },
            "Military Robotics": { scores: { discontinuity: [3, 3, 2, 2], irreversibility: [2, 2, 1, 1], generative: [4, 4, 3, 3], cognitive: [2, 2, 1, 1] } },
            "AI-Targeting": { scores: { discontinuity: [2, 2, 1, 1], irreversibility: [2, 2, 1, 1], generative: [3, 3, 2, 2], cognitive: [2, 2, 1, 1] } },
            "Hypersonics": { scores: { discontinuity: [1, 1, 0, 0], irreversibility: [1, 1, 0, 0], generative: [1, 1, 0, 0], cognitive: [1, 1, 0, 0] } },
            "F-16 Block D": { scores: { discontinuity: [1, 1, 0, 0], irreversibility: [1, 1, 0, 0], generative: [1, 1, 0, 0], cognitive: [1, 1, 0, 0] } },
            "AIP Submarine": { scores: { discontinuity: [2, 1, 1, 1], irreversibility: [2, 1, 0, 0], generative: [2, 2, 1, 1], cognitive: [2, 1, 0, 0] } },
            "T-72B3M Main Battle Tank": { scores: { discontinuity: [1, 1, 0, 0], irreversibility: [1, 1, 0, 0], generative: [1, 1, 0, 0], cognitive: [1, 1, 0, 0] } },
        };

        const App = () => {
            const [capability, setCapability] = useState('');
            const [scores, setScores] = useState(INITIAL_SCORES);
            const [selectedExample, setSelectedExample] = useState('');
            const dimChartRef = useRef(null);
            const indChartRef = useRef(null);
            const dimChartInstance = useRef(null);
            const indChartInstance = useRef(null);

            const calculateDimensionTotals = () => {
                const totals = {};
                for (const dim in scores) {
                    totals[dim] = scores[dim].reduce((sum, score) => sum + score, 0);
                }
                return totals;
            };

            const dimensionTotals = useMemo(calculateDimensionTotals, [scores]);
            const totalScore = useMemo(() => Object.values(dimensionTotals).reduce((sum, total) => sum + total, 0), [dimensionTotals]);

            const classification = useMemo(() => {
                const meetsGate = (dimensionTotals.irreversibility >= 10 || dimensionTotals.cognitive >= 10);
                if (totalScore >= 18 && meetsGate) return "Genuine Innovation";
                if (totalScore >= 12) return "Modernization";
                return "Upgradation";
            }, [totalScore, dimensionTotals]);

            const recommendation = useMemo(() => {
                if (classification === "Genuine Innovation") return "Prioritize funding and doctrine development.";
                if (classification === "Modernization") return "Monitor, prototype selectively, collect evidence.";
                return "Treat as an upgrade; fund incremental improvements.";
            }, [classification]);
            
            const classificationExplanation = useMemo(() => {
                const meetsGate = (dimensionTotals.irreversibility >= 10 || dimensionTotals.cognitive >= 10);
                if (classification === "Genuine Innovation") {
                    return `This is classified as a **Genuine Innovation** because it meets two key conditions: 1) It has a total score of 18 or higher (your score is ${totalScore}), and 2) It passes the "gate" by scoring at least 10 in either the Irreversibility (${dimensionTotals.irreversibility}) or Cognitive Disruption (${dimensionTotals.cognitive}) dimension. These two dimensions are considered the most critical for a truly transformative innovation.`;
                } else if (classification === "Modernization") {
                     return `This is a **Modernization**. The overall score of ${totalScore} suggests a significant improvement, but it does not pass the key "gate" for a genuine innovation because its scores in both Irreversibility (${dimensionTotals.irreversibility}) and Cognitive Disruption (${dimensionTotals.cognitive}) are below the required 10-point threshold. This suggests it is an important improvement but not a fundamental innovation.`;
                } else {
                    return `This is classified as **Upgradation**. The overall score of ${totalScore} is below the 12-point threshold for a modernization. This suggests it is an important improvement but not a fundamental innovation.`;
                }
            }, [classification, totalScore, dimensionTotals]);

            const updateCharts = () => {
                // Destroy old chart instances if they exist
                if (dimChartInstance.current) dimChartInstance.current.destroy();
                if (indChartInstance.current) indChartInstance.current.destroy();

                const dimLabels = Object.keys(DIMENSIONS).map(key => DIMENSIONS[key].name);
                const dimData = Object.values(dimensionTotals);
                const dimColors = Object.values(DIMENSIONS).map(dim => dim.indicators[0].color);

                const indLabels = Object.keys(DIMENSIONS).flatMap(dimKey =>
                    DIMENSIONS[dimKey].indicators.map(ind => ind.name)
                );
                const indData = Object.values(scores).flat();
                const indColors = Object.values(DIMENSIONS).flatMap(dim => dim.indicators.map(ind => ind.color));

                // Dimension Chart
                dimChartInstance.current = new Chart(dimChartRef.current, {
                    type: 'bar',
                    data: {
                        labels: dimLabels,
                        datasets: [{
                            label: 'Total Score per Dimension',
                            data: dimData,
                            backgroundColor: dimColors,
                            borderColor: dimColors,
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { display: false },
                            title: { display: true, text: 'Dimension Scores' },
                        },
                        scales: {
                            y: { beginAtZero: true, max: 20, ticks: { stepSize: 5 } },
                        }
                    }
                });

                // Indicator Chart
                indChartInstance.current = new Chart(indChartRef.current, {
                    type: 'bar',
                    data: {
                        labels: indLabels,
                        datasets: [{
                            label: 'Individual Indicator Scores',
                            data: indData,
                            backgroundColor: indColors,
                            borderColor: indColors,
                            borderWidth: 1
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: { display: false },
                            title: { display: true, text: 'Individual Indicator Scores' },
                        },
                        scales: {
                            y: { beginAtZero: true, max: 5, ticks: { stepSize: 1 } },
                            x: {
                                ticks: {
                                    maxRotation: 90,
                                    minRotation: 90
                                }
                            }
                        }
                    }
                });
            };

            useEffect(updateCharts, [scores]);

            const handleScoreChange = (dimensionKey, indicatorIndex, score) => {
                setScores(prev => {
                    const newScores = { ...prev };
                    newScores[dimensionKey][indicatorIndex] = parseInt(score);
                    return newScores;
                });
            };

            const loadExample = (example) => {
                setCapability(example);
                setSelectedExample(example);
                setScores(EXAMPLES[example].scores);
            };

            const resetTool = () => {
                setCapability('');
                setSelectedExample('');
                setScores(INITIAL_SCORES);
            };

            return (
                <div className="max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen">
                    {/* Header */}
                    <header className="mb-8 text-center">
                        <h1 className="text-4xl font-bold text-gray-900">Military Innovation Assessment Framework</h1>
                        <p className="text-lg text-gray-600 max-w-3xl mx-auto mt-2">
                            A four-dimensional recognition tool to distinguish genuine innovation from modernization.
                        </p>
                    </header>

                    {/* Main Content Area */}
                    <div className="space-y-6">
                        {/* Innovation Input */}
                        <div className="p-6 bg-white rounded-lg shadow">
                            <h2 className="text-xl font-semibold mb-4">Step 1: Propose Your Innovation</h2>
                            <input
                                type="text"
                                value={capability}
                                onChange={(e) => setCapability(e.target.value)}
                                className="w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500"
                                placeholder="e.g., AI-powered drone swarms"
                            />
                        </div>

                        {/* Dimension Scoring (Horizontal Layout) */}
                        <div className="p-6 bg-white rounded-lg shadow">
                            <h2 className="text-xl font-semibold mb-4">Step 2: Score Dimensions (0-5)</h2>
                            <p className="text-sm text-gray-600 mb-4">
                                <span className="font-semibold text-red-600">Disclaimer:</span> This is a conceptual tool. Scores are **indicative**, not quantitative, and must be justified by real-world evidence.
                            </p>
                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                {Object.entries(DIMENSIONS).map(([dimKey, dim]) => (
                                    <div key={dimKey} className="p-4 bg-gray-100 rounded-lg border">
                                        <div className="flex items-center justify-between mb-2">
                                            <h3 className="font-semibold text-gray-800">{dim.name}</h3>
                                            <span className="score-badge bg-blue-100 text-blue-800">{dimensionTotals[dimKey]}/20</span>
                                        </div>
                                        <p className="text-sm text-gray-600 mb-4">{dim.description}</p>
                                        {dim.indicators.map((indicator, indIndex) => (
                                            <div key={indIndex} className="mb-3">
                                                <div className="flex justify-between text-sm">
                                                    <label className="font-medium text-gray-700">{indicator.name}</label>
                                                    <span className="text-gray-600">{scores[dimKey][indIndex]}/5</span>
                                                </div>
                                                <p className="text-xs text-gray-500 mt-1 mb-2 italic">{indicator.explanation}</p>
                                                <input
                                                    type="range"
                                                    min="0"
                                                    max="5"
                                                    value={scores[dimKey][indIndex]}
                                                    onChange={(e) => handleScoreChange(dimKey, indIndex, e.target.value)}
                                                    className="w-full h-2 mt-1 bg-gray-200 rounded-lg appearance-none cursor-pointer"
                                                    style={{ '--tw-accent-color': indicator.color }}
                                                />
                                                <div className="flex justify-between text-xs text-gray-500">
                                                    <span>0</span><span>1</span><span>2</span><span>3</span><span>4</span><span>5</span>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Graphs */}
                        <div className="p-6 bg-white rounded-lg shadow">
                            <h2 className="text-xl font-semibold mb-4">Visual Assessment</h2>
                            <canvas id="dimensionChart" ref={dimChartRef}></canvas>
                            <hr className="my-6" />
                            <canvas id="indicatorChart" ref={indChartRef}></canvas>
                        </div>

                        {/* Final Assessment and Explanation */}
                        <div className="p-6 bg-white rounded-lg shadow">
                            <h2 className="text-xl font-semibold mb-4">Final Assessment</h2>
                            <div className="space-y-4">
                                <div>
                                    <p className="text-gray-600">Total Score</p>
                                    <div className="text-3xl font-bold text-gray-900">{totalScore}/80</div>
                                </div>
                                <div>
                                    <p className="text-gray-600">Classification</p>
                                    <div className={`text-xl font-bold ${classification === 'Genuine Innovation' ? 'text-green-600' : classification === 'Modernization' ? 'text-yellow-600' : 'text-slate-600'}`}>
                                        {classification}
                                    </div>
                                </div>
                                <div>
                                    <p className="text-gray-600">Recommendation</p>
                                    <div className="text-lg font-semibold text-gray-800">{recommendation}</div>
                                </div>
                            </div>
                            <hr className="my-6" />
                            <div className="prose max-w-none">
                                <h3 className="font-semibold text-gray-800">Classification Explanation</h3>
                                <p dangerouslySetInnerHTML={{ __html: classificationExplanation }}></p>
                            </div>
                        </div>

                        {/* Examples and Reset */}
                        <div className="p-6 bg-white rounded-lg shadow">
                            <h2 className="text-xl font-semibold mb-4">Historical Examples and Reset</h2>
                            <p className="text-sm text-gray-600 mb-4">
                                Click any example below to see how the framework has been applied. The graphical representation of the analysis is available in the graphs above.
                            </p>
                            <div className="grid grid-cols-2 gap-2 mb-4">
                                {Object.keys(EXAMPLES).map(example => (
                                    <button
                                        key={example}
                                        onClick={() => loadExample(example)}
                                        className={`p-2 rounded text-xs border transition-colors ${selectedExample === example ? 'bg-blue-100 border-blue-300' : 'bg-white border-gray-200 hover:bg-gray-50'}`}
                                    >
                                        {example}
                                    </button>
                                ))}
                            </div>
                            <button
                                onClick={resetTool}
                                className="w-full bg-gray-200 hover:bg-gray-300 text-gray-800 py-2 rounded-md font-medium"
                            >
                                Reset All
                            </button>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
