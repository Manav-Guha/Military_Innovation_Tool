<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Military Innovation Assessment Framework</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50">
    <div class="max-w-7xl mx-auto p-6">
        <header class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-900 mb-2">Military Innovation Assessment Framework</h1>
            <p class="text-lg text-gray-600">A Four-Dimensional Recognition Tool</p>
            <p class="text-sm text-gray-500 italic">Based on "The Innovation Delusion: How Conceptual Confusion Undermines Military Strategy"</p>
        </header>

        <div class="space-y-6">
            <!-- Classification -->
            <div class="bg-white rounded-lg shadow border">
                <div class="px-4 py-3 border-b"><h2 class="font-semibold">Case Setup & Classification</h2></div>
                <div class="p-4 grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <label class="block text-sm font-medium mb-1">Case Label</label>
                        <input type="text" id="caseLabel" class="w-full border rounded px-3 py-2" placeholder="e.g., Hypersonic missiles">
                        <button onclick="resetAll()" class="w-full mt-3 bg-gray-100 hover:bg-gray-200 px-3 py-2 rounded">Reset All</button>
                    </div>
                    <div>
                        <h3 class="text-lg font-medium mb-2">Classification</h3>
                        <div id="classification" class="py-1 px-3 text-sm font-bold rounded-full bg-gray-200 text-gray-800 inline-block mb-2">None</div>
                        <p id="classificationText" class="text-sm text-gray-600">No innovation scored.</p>
                    </div>
                </div>
            </div>

            <!-- Scoring -->
            <div class="bg-white rounded-lg shadow border">
                <div class="px-4 py-3 border-b"><h2 class="font-semibold">Innovation Scoring</h2></div>
                <div class="p-4" id="scoringSection"></div>
            </div>

            <!-- Tabs -->
            <div class="bg-white rounded-lg shadow border">
                <div class="px-4 py-3 border-b"><h2 class="font-semibold">Analysis & Examples</h2></div>
                <div class="bg-gray-100 border-b flex">
                    <button onclick="setTab('interconnected')" id="tab-interconnected" class="flex-1 py-3 text-center font-semibold">Interconnected Effects</button>
                    <button onclick="setTab('charts')" id="tab-charts" class="flex-1 py-3 text-center font-semibold">Charts</button>
                    <button onclick="setTab('examples')" id="tab-examples" class="flex-1 py-3 text-center font-semibold bg-white border-b-2 border-blue-600 text-blue-600">Historical Examples</button>
                </div>
                <div class="p-4">
                    <div id="tab-content-interconnected" class="hidden">
                        <p class="text-sm text-gray-600 italic mb-4">Capture how strong performance in one dimension may justify increases in another.</p>
                        <div id="promptsSection"></div>
                    </div>
                    <div id="tab-content-charts" class="hidden">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div><h3 class="text-lg font-medium mb-2">Dimension Scores</h3><canvas id="dimensionChart" class="w-full h-64"></canvas></div>
                            <div><h3 class="text-lg font-medium mb-2">Indicator Scores</h3><canvas id="indicatorChart" class="w-full h-64"></canvas></div>
                        </div>
                    </div>
                    <div id="tab-content-examples">
                        <div id="exampleButtons" class="grid grid-cols-2 md:grid-cols-4 gap-2 mb-4"></div>
                        <div id="exampleDetails" class="hidden mt-4 p-4 bg-gray-50 rounded"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const INDICATORS = {
            discontinuity: [
                { id: "d1", label: "Enemy OODA disruption", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "d2", label: "Doctrinal break points", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "d3", label: "Kill-chain topology shift", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "d4", label: "Adversary scrambling to counter", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
            ],
            irreversibility: [
                { id: "i1", label: "Training/institutional restructuring", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "i2", label: "Logistics/infrastructure path dependence", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "i3", label: "Adversary compulsion to mirror at scale", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "i4", label: "Persistent force structure changes", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
            ],
            generative: [
                { id: "g1", label: "Follow-on doctrines/capabilities (5-10y)", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "g2", label: "Cross-domain spillovers", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "g3", label: "Budget share migration", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "g4", label: "New capability categories emerge", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
            ],
            cognitive: [
                { id: "c1", label: "Doctrinal rewrites", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "c2", label: "PME syllabus changes", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "c3", label: "Wargame outcome reversals", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
                { id: "c4", label: "Leadership reframes success metrics", ladder: ["No evidence","Prototype/lab only","Field trials/limited ops","Adversary response or institutional change","Doctrinal/strategic transformation"]},
            ],
        };

        const EXAMPLES = {
            "Nuclear Weapons": { scores: { discontinuity: 2, irreversibility: 2, generative: 2, cognitive: 2 }, justification: "Genuine Innovation - arguably the most significant of the 20th century. Nuclear weapons created a new state of war (MAD) that permanently altered international relations and military strategy.", sources: ["Lawrence Freedman, The Evolution of Nuclear Strategy (2003)"] },
            "Machine Gun": { scores: { discontinuity: 2, irreversibility: 2, generative: 2, cognitive: 2 }, justification: "Genuine Innovation - created an immense doctrinal breakpoint, making large-scale infantry charges suicidal and ushering in trench warfare.", sources: ["John Ellis, The Social History of the Machine Gun (1975)"] },
            "Tank": { scores: { discontinuity: 2, irreversibility: 2, generative: 2, cognitive: 2 }, justification: "Genuine Innovation - broke the tactical stalemate of WWI, forcing complete reconceptualization of maneuver warfare.", sources: ["J.P. Harris, Men, Ideas, and Tanks (1995)"] },
            "Radar": { scores: { discontinuity: 2, irreversibility: 2, generative: 1, cognitive: 1 }, justification: "Genuine Innovation - instantly disrupted the OODA loop of air attacks, turning surprise raids into predictable events.", sources: ["David E. Fisher, A Race on the Edge of Time (1988)"] },
            "UAVs": { scores: { discontinuity: 1, irreversibility: 1, generative: 2, cognitive: 1 }, justification: "Modernization - extended existing doctrines rather than breaking them, but highly generative for new unmanned systems.", sources: ["Peter W. Singer, Wired for War (2009)"] },
            "Hypersonics": { scores: { discontinuity: 1, irreversibility: 1, generative: 1, cognitive: 1 }, justification: "Upgradation - improve speed of existing missile capability but don't force new kill-chain topology.", sources: ["Thomas G. Mahnken, The Technological Revolution in Military Affairs (2007)"] }
        };

        const DIM_KEYS = ["discontinuity","irreversibility","generative","cognitive"];
        let scores = {};
        let selectedExample = null;
        let activeTab = 'examples';

        function initScores() {
            scores = {};
            DIM_KEYS.forEach(dim => INDICATORS[dim].forEach(ind => scores[ind.id] = 0));
        }

        function classify() {
            const d = INDICATORS.discontinuity.reduce((sum, ind) => sum + (scores[ind.id] || 0), 0);
            const i = INDICATORS.irreversibility.reduce((sum, ind) => sum + (scores[ind.id] || 0), 0);
            const g = INDICATORS.generative.reduce((sum, ind) => sum + (scores[ind.id] || 0), 0);
            const c = INDICATORS.cognitive.reduce((sum, ind) => sum + (scores[ind.id] || 0), 0);
            const total = d + i + g + c;

            if (total === 0) return { bucket: "None", text: "No innovation scored." };
            if (total >= 15 && (i >= 9 || c >= 9)) return { bucket: "Genuine Innovation", text: "Fundamentally redefines military power with deep institutional changes." };
            if (d >= 1 && i === 0 && g === 0 && c === 0) return { bucket: "Adaptation", text: "Reactive change without fundamental transformation." };
            if (total >= 10 && d > 0 && i >= 1) return { bucket: "Modernization", text: "Improves existing systems but doesn't change nature of war." };
            return { bucket: "Upgradation", text: "Simple improvement to existing systems." };
        }

        function updateClassification() {
            const result = classify();
            document.getElementById('classification').textContent = result.bucket;
            document.getElementById('classification').className = `py-1 px-3 text-sm font-bold rounded-full inline-block ${result.bucket === "Genuine Innovation" ? 'bg-green-500 text-white' : 'bg-gray-200 text-gray-800'}`;
            document.getElementById('classificationText').textContent = result.text;
        }

        function setScore(id, value) {
            scores[id] = value;
            updateClassification();
            updateButtons();
        }

        function updateButtons() {
            Object.keys(scores).forEach(id => {
                for (let i = 0; i <= 4; i++) {
                    const btn = document.getElementById(`btn-${id}-${i}`);
                    if (btn) btn.className = `w-6 h-6 rounded text-xs font-bold ${scores[id] === i ? 'bg-gray-800 text-white' : 'bg-gray-200 text-gray-800 hover:bg-gray-300'}`;
                }
            });
        }

        function setTab(tab) {
            activeTab = tab;
            ['interconnected', 'charts', 'examples'].forEach(t => {
                document.getElementById(`tab-content-${t}`).classList.toggle('hidden', t !== tab);
                document.getElementById(`tab-${t}`).className = `flex-1 py-3 text-center font-semibold ${t === tab ? 'bg-white border-b-2 border-blue-600 text-blue-600' : 'bg-gray-100 text-gray-600 hover:bg-gray-200'}`;
            });
        }

        function loadExample(name) {
            selectedExample = name;
            document.getElementById('caseLabel').value = name;
            const example = EXAMPLES[name];
            DIM_KEYS.forEach(dim => INDICATORS[dim].forEach(ind => {
                const oldScore = example.scores[dim];
                scores[ind.id] = oldScore === 0 ? 0 : oldScore === 1 ? 2 : 4;
            }));
            updateClassification();
            updateButtons();
            showExampleDetails(name);
        }

        function showExampleDetails(name) {
            const details = document.getElementById('exampleDetails');
            const example = EXAMPLES[name];
            details.innerHTML = `
                <h3 class="text-lg font-semibold mb-2">${name}</h3>
                <p class="text-sm text-gray-700 mb-3">${example.justification}</p>
                <h4 class="font-medium mb-1">Sources:</h4>
                <ul class="list-disc list-inside text-sm text-gray-600">
                    ${example.sources.map(s => `<li>${s}</li>`).join('')}
                </ul>
            `;
            details.classList.remove('hidden');
        }

        function resetAll() {
            document.getElementById('caseLabel').value = '';
            initScores();
            updateClassification();
            updateButtons();
            document.getElementById('exampleDetails').classList.add('hidden');
            selectedExample = null;
        }

        function renderScoring() {
            const container = document.getElementById('scoringSection');
            container.innerHTML = '';
            DIM_KEYS.forEach(dimKey => {
                const div = document.createElement('div');
                div.className = 'mb-6 p-4 border rounded-lg bg-gray-50';
                div.innerHTML = `
                    <h3 class="text-lg font-medium text-gray-800 mb-3">${dimKey.charAt(0).toUpperCase() + dimKey.slice(1)}</h3>
                    <ul class="space-y-4">
                        ${INDICATORS[dimKey].map(ind => `
                            <li class="flex justify-between items-center">
                                <span class="text-sm font-medium text-gray-700">${ind.label}</span>
                                <div class="flex gap-1">
                                    ${[0,1,2,3,4].map(i => `<button id="btn-${ind.id}-${i}" onclick="setScore('${ind.id}', ${i})" title="${ind.ladder[i]}" class="w-6 h-6 rounded text-xs font-bold">${i}</button>`).join('')}
                                </div>
                            </li>
                        `).join('')}
                    </ul>
                `;
                container.appendChild(div);
            });
        }

        function renderExamples() {
            document.getElementById('exampleButtons').innerHTML = Object.keys(EXAMPLES).map(name => 
                `<button onclick="loadExample('${name}')" class="p-2 rounded border text-left text-xs hover:bg-gray-100 ${selectedExample === name ? 'bg-blue-50 border-blue-300' : 'bg-white border-gray-200'}">${name}</button>`
            ).join('');
        }

        document.addEventListener('DOMContentLoaded', () => {
            initScores();
            renderScoring();
            renderExamples();
            updateButtons();
            updateClassification();
        });
    </script>
</body>
</html>
