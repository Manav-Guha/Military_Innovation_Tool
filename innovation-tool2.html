<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Military Innovation Assessment Framework</title>

  <!-- React + Babel -->
  <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js" data-presets="react"></script>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    .big-tabs{display:flex;align-items:center;justify-content:center;gap:1rem;margin:1.5rem 0}
    .big-tab{padding:.9rem 1.75rem;border-radius:1rem;font-weight:600;border:1px solid;transition:all .2s}
    .big-tab-inactive{background:#f3f4f6;border-color:#d1d5db;color:#374151}
    .big-tab-inactive:hover{background:#e5e7eb}
    .big-tab-active{background:#fff;border-color:#2563eb;color:#1d4ed8;box-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1)}
    .panel{background:#fff;border:1px solid #e5e7eb;border-radius:1rem}
    .panel-h{padding:.9rem 1.25rem;border-bottom:1px solid #e5e7eb;font-weight:600}
    .panel-b{padding:1.25rem}
    .hint{font-size:.85rem;color:#6b7280}
    .item-row{padding:.6rem 0;border-bottom:1px solid #eef2f7}
    .item-row:last-child{border-bottom:none}
    .badge{display:inline-block;padding:.125rem .5rem;border-radius:.375rem;font-size:.75rem;font-weight:600}
    .meter{height:.5rem;background:#e5e7eb;border-radius:.375rem;overflow:hidden}
    .meter-fill{height:100%;background:#2563eb}
  </style>
</head>
<body class="bg-gray-50 text-gray-900">
  <div id="root" class="max-w-7xl mx-auto p-6"></div>

  <script type="text/babel">
    const {useState,useMemo,useEffect,useRef} = React;

    // ===== Dimensions (C/I/D/G) =====
    const DIMS = [
      { key:"Cognitive",        abbr:"C", label:"Cognitive (C)",             def:"Doctrine, training, and mental models change to accommodate the novelty." },
      { key:"Irreversibility",  abbr:"I", label:"Irreversibility (I)",       def:"Prior doctrine ceases to be viable as decisive practice; no rational return." },
      { key:"Disruption",       abbr:"D", label:"Disruptive Capacity (D)",   def:"Adversaries are compelled to abandon or radically alter existing methods." },
      { key:"Generative",       abbr:"G", label:"Generative Capacity (G)",   def:"The change enables new capabilities or follow-on innovations." }
    ];
    const ORDER = DIMS.map(d=>d.key);

    // ===== Sub-indicator scaffold =====
    const SUBS = {
      Disruption: [
        {k:"d1", name:"Enemy OODA disruption", hint:"Throws off observe–orient–decide–act."},
        {k:"d2", name:"Doctrinal breakpoints", hint:"Existing doctrine becomes obsolete."},
        {k:"d3", name:"Shift in kill-chain topology", hint:"Changes find–fix–finish sequence."},
        {k:"d4", name:"Adversary scrambles to counter", hint:"Forces urgent, costly counters."},
      ],
      Irreversibility: [
        {k:"i1", name:"Sunk training pipelines", hint:"Deep, long-term training investments."},
        {k:"i2", name:"Logistics path dependence", hint:"New supply/infrastructure dependencies."},
        {k:"i3", name:"Adversary compulsion to mirror", hint:"Competitors must adopt to keep up."},
        {k:"i4", name:"Force-structure changes", hint:"Permanent unit/TOE reconfiguration."},
      ],
      Cognitive: [
        {k:"c1", name:"Assumption reversal", hint:"Core premises visibly overturned."},
        {k:"c2", name:"PME/doctrine rewrite", hint:"Syllabi and doctrine revised."},
        {k:"c3", name:"Wargame result shifts", hint:"Different outcomes under same scenarios."},
        {k:"c4", name:"New success metrics", hint:"Victory assessed with new measures."},
      ],
      Generative: [
        {k:"g1", name:"New capability families", hint:"Spawns adjacent capability lines."},
        {k:"g2", name:"Cross-domain spillovers", hint:"Transfers into other domains."},
        {k:"g3", name:"Budget reallocation", hint:"Sustained ≥10% shift for ≥2 FYs."},
        {k:"g4", name:"Conceptual platform", hint:"Base enabling further innovations."},
      ]
    };

    // ===== Core logic =====
    const thresholdOK = s => (s.Cognitive||0) >= 2 && (s.Irreversibility||0) >= 2;
    const indexScore = s => Math.round(25 * ORDER.reduce((a,k)=> a + (+s[k]||0), 0) / 4);
    function classify(s){
      const vals = ORDER.map(k => +s[k]||0);
      if (!thresholdOK(s)) return vals.some(v=>v>=2) ? "Modernization" : "Upgradation";
      const strong = vals.filter(v=>v>=3).length;
      if (strong >= 3) return "Transformational Innovation";
      if (strong >= 2) return "Innovation";
      return "Modernization";
    }
    const meanToInt = arr => Math.round(arr.reduce((a,v)=>a+v,0)/arr.length);

    // ===== Full Historical Examples (C/I/D/G) =====
    // Optional: add "sub" with 4-item arrays per dimension for granular presetting.
    // If absent, sub-indicators render as the dimension score replicated across its four items.
    const EXAMPLES = {
      "AI-Targeting": {
        scores: { Cognitive:1, Irreversibility:1, Disruption:1, Generative:2 },
        justification: "**Modernization**. AI-targeting speeds up existing processes but doesn't fundamentally change how war is fought. Limited organizational changes and minimal shift in military thinking.",
        sources: ["USAF Mad Scientist Initial Research"]
      },
      "AIP Submarine": {
        scores: { Cognitive:1, Irreversibility:2, Disruption:1, Generative:2 },
        justification: "**Modernization**. AIP extends submarine endurance and creates new patrol capabilities beyond mere performance upgrade. Requires institutional adaptation; stays within submarine-warfare paradigms.",
        sources: ["Norman Polmar & K.J. Moore, Cold War Submarines (2004)"]
      },
      "ASBM": {
        scores: { Cognitive:3, Irreversibility:2, Disruption:3, Generative:2 },
        justification: "**Genuine Innovation**. Forces rethinking of carrier operations and power projection.",
        sources: ["Andrew S. Erickson, Chinese Anti-Ship Ballistic Missile Development (2013)"]
      },
      "Barbed Wire": {
        scores: { Cognitive:3, Irreversibility:3, Disruption:3, Generative:2 },
        justification: "**Genuine Innovation**. Offensive linear assumptions collapse; defensive concepts entrenched.",
        sources: ["Stephen Bull, The Soldier's Kit (2013)"]
      },
      "Blitzkrieg": {
        scores: { Cognitive:4, Irreversibility:3, Disruption:4, Generative:4 },
        justification: "**Genuine Innovation**. Rewires doctrine around tempo and combined arms; closes off pre-mechanized practice.",
        sources: ["Liddell Hart; Guderian, Panzer Leader"]
      },
      "Carrier Aviation": {
        scores: { Cognitive:4, Irreversibility:4, Disruption:4, Generative:4 },
        justification: "**Genuine Innovation**. From battleship primacy to sea-based air power; strategic and organizational overhaul.",
        sources: ["Norman Friedman, U.S. Aircraft Carriers (1983)"]
      },
      "Cyber Warfare": {
        scores: { Cognitive:2, Irreversibility:2, Disruption:2, Generative:3 },
        justification: "**Modernization**. Adds an operational layer; core strategic grammar largely intact.",
        sources: ["Martin C. Libicki, Conquest in Cyberspace (2012)"]
      },
      "Deep Battle/Reconnaissance Strike Complex": {
        scores: { Cognitive:4, Irreversibility:3, Disruption:4, Generative:3 },
        justification: "**Genuine Innovation**. Collapses frontal-assault assumptions; drives operational art.",
        sources: ["Mary Habeck, Storm of Steel (2003)"]
      },
      "F-16 Block D": {
        scores: { Cognitive:0, Irreversibility:1, Disruption:0, Generative:1 },
        justification: "**Upgradation**. Performance uplift inside existing paradigm.",
        sources: ["USAF Fact Sheets"]
      },
      "Hypersonics": {
        scores: { Cognitive:1, Irreversibility:1, Disruption:1, Generative:2 },
        justification: "**Modernization**. Speed-focused; limited doctrinal reconceptualization so far.",
        sources: ["Thomas G. Mahnken, RMA literature (2007)"]
      },
      "Information Warfare": {
        scores: { Cognitive:3, Irreversibility:3, Disruption:3, Generative:4 },
        justification: "**Genuine Innovation**. Challenges C2 assumptions; pushes non-hierarchical flows.",
        sources: ["T. E. Ricks, The Generals (2012)"]
      },
      "Lasers": {
        scores: { Cognitive:1, Irreversibility:1, Disruption:2, Generative:2 },
        justification: "**Modernization**. Defensive challenges but within established frameworks.",
        sources: ["AFRL, Directed Energy Weapons: A Primer (2019)"]
      },
      "Machine Gun": {
        scores: { Cognitive:4, Irreversibility:4, Disruption:4, Generative:3 },
        justification: "**Genuine Innovation**. Ends linear assault viability; forces new infantry doctrine.",
        sources: ["John Ellis, The Social History of the Machine Gun (1975)"]
      },
      "Military Robotics": {
        scores: { Cognitive:1, Irreversibility:2, Disruption:1, Generative:3 },
        justification: "**Modernization**. Extends reach; conceptual disruption still limited.",
        sources: ["Peter W. Singer, Wired for War (2009)"]
      },
      "Minie Ball/Conoidal Bullet": {
        scores: { Cognitive:3, Irreversibility:3, Disruption:3, Generative:2 },
        justification: "**Genuine Innovation**. Undermines Napoleonic lines; reframes infantry effectiveness.",
        sources: ["Brent Nosworthy, The Bloody Crucible of Courage (2003)"]
      },
      "Multi-Domain Battle Concept": {
        scores: { Cognitive:2, Irreversibility:1, Disruption:2, Generative:3 },
        justification: "**Modernization**. Challenges stovepipes; still emergent.",
        sources: ["TRADOC Pamphlet 525-3-1"]
      },
      "Network-Centric Warfare": {
        scores: { Cognitive:4, Irreversibility:2, Disruption:3, Generative:4 },
        justification: "**Genuine Innovation**. Conceptual lead with uneven execution; trajectory is locked.",
        sources: ["Alberts, Garstka, Stein, Network Centric Warfare (1999)"]
      },
      "Nuclear Weapons": {
        scores: { Cognitive:4, Irreversibility:4, Disruption:4, Generative:4 },
        justification: "**Genuine Innovation**. Paradigmatic transformation across all dimensions.",
        sources: ["Lawrence Freedman, The Evolution of Nuclear Strategy (2003)"]
      },
      "PGMs": {
        scores: { Cognitive:1, Irreversibility:2, Disruption:2, Generative:3 },
        justification: "**Modernization**. Enhances targeting; limited strategic reconceptualization.",
        sources: ["Richard P. Hallion, Precision-Guided Munitions (1995)"]
      },
      "Radar": {
        scores: { Cognitive:2, Irreversibility:3, Disruption:3, Generative:3 },
        justification: "**Genuine Innovation**. Transforms air defense; permanently embeds.",
        sources: ["David E. Fisher, A Race on the Edge of Time (1988)"]
      },
      "Stealth": {
        scores: { Cognitive:1, Irreversibility:2, Disruption:2, Generative:2 },
        justification: "**Modernization**. Improves survivability within existing airpower logic.",
        sources: ["Bill Sweetman, Stealth Aircraft (1986)"]
      },
      "Stirrups": {
        scores: { Cognitive:4, Irreversibility:4, Disruption:4, Generative:4 },
        justification: "**Genuine Innovation**. Enables shock cavalry; reorders military-social structure.",
        sources: ["Lynn White Jr., Medieval Technology and Social Change (1962)"]
      },
      "Stosstrupp Tactics": {
        scores: { Cognitive:4, Irreversibility:3, Disruption:4, Generative:3 },
        justification: "**Genuine Innovation**. Infiltration collapses rigid formations; doctrinal reconceptualization.",
        sources: ["Bruce I. Gudmundsson, Stormtroop Tactics (1989)"]
      },
      "T-72B3M Main Battle Tank": {
        scores: { Cognitive:0, Irreversibility:1, Disruption:0, Generative:1 },
        justification: "**Upgradation**. Performance upgrades; no doctrinal shift.",
        sources: ["Charles K. Bartles, notes on Russian capability (2015)"]
      },
      "Tank": {
        scores: { Cognitive:4, Irreversibility:4, Disruption:4, Generative:4 },
        justification: "**Genuine Innovation**. Mobility + firepower reframe land warfare.",
        sources: ["J.P. Harris, Men, Ideas, and Tanks (1995)"]
      },
      "Telegraph": {
        scores: { Cognitive:4, Irreversibility:4, Disruption:4, Generative:4 },
        justification: "**Genuine Innovation**. Command latency collapse; network dependency entrenched.",
        sources: ["David Hochfelder, The Telegraph in America (2012)"]
      },
      "UAVs": {
        scores: { Cognitive:1, Irreversibility:2, Disruption:1, Generative:3 },
        justification: "**Modernization**. Extends reconnaissance/strike; limited doctrinal closure.",
        sources: ["Peter W. Singer, Wired for War (2009)"]
      }
    };

    // ===== Charts =====
    function RadarChart({scores}){
      const ref=useRef(null), chart=useRef(null);
      const values = useMemo(()=> ORDER.map(k => +scores[k]||0), [scores]);
      useEffect(()=>{
        const ctx=ref.current.getContext('2d');
        if(chart.current) chart.current.destroy();
        chart.current=new Chart(ctx,{
          type:'radar',
          data:{ labels:DIMS.map(d=>d.label),
                 datasets:[
                   {label:'Current',data:values,fill:true,borderWidth:2,pointRadius:3,
                    backgroundColor:'rgba(37,99,235,0.2)',borderColor:'rgba(37,99,235,1)'},
                   {label:'Threshold (C≥2, I≥2)',data:[2,2,0,0],fill:true,borderWidth:1,borderDash:[6,4],pointRadius:0,
                    backgroundColor:'rgba(107,114,128,0.12)',borderColor:'rgba(107,114,128,0.8)'}
                 ]},
          options:{responsive:true,plugins:{legend:{position:'top'}},
                   scales:{r:{beginAtZero:true,min:0,max:4,ticks:{stepSize:1},grid:{circular:true}}}}
        });
        return ()=> chart.current && chart.current.destroy();
      },[values]);
      return <canvas ref={ref} height={360} className="w-full"/>;
    }
    function BarChart({scores}){
      const ref=useRef(null), chart=useRef(null);
      const values = useMemo(()=> ORDER.map(k => +scores[k]||0), [scores]);
      const colorFor=v=> v>=3?'rgba(22,163,74,0.7)':v>=2?'rgba(234,179,8,0.8)':'rgba(239,68,68,0.8)';
      useEffect(()=>{
        const ctx=ref.current.getContext('2d');
        if(chart.current) chart.current.destroy();
        chart.current=new Chart(ctx,{
          type:'bar',
          data:{labels:DIMS.map(d=>d.label),
                datasets:[{label:'Score',data:values,backgroundColor:values.map(colorFor),borderWidth:1}]},
          options:{responsive:true,plugins:{legend:{display:false}},
                   scales:{y:{beginAtZero:true,min:0,max:4,ticks:{stepSize:1}}}}
        });
        return ()=> chart.current && chart.current.destroy();
      },[values]);
      return <canvas ref={ref} height={360} className="w-full"/>;
    }
    function ChartsPanel({scores,meta}){
      return (
        <div className="grid md:grid-cols-2 gap-6">
          <div className="panel">
            <div className="panel-h">Radar</div>
            <div className="panel-b"><RadarChart scores={scores}/></div>
          </div>
          <div className="panel">
            <div className="panel-h">Bar (color-coded)</div>
            <div className="panel-b"><BarChart scores={scores}/></div>
          </div>
          <div className="md:col-span-2 panel panel-b text-sm">
            <div className="flex flex-wrap items-center gap-4">
              <div><span className="font-semibold">Index:</span> {indexScore(scores)}</div>
              <div><span className="font-semibold">Class:</span> {classify(scores)}</div>
              <div>{thresholdOK(scores)
                ? <span className="badge bg-green-100 text-green-800">Threshold met (C≥2 & I≥2)</span>
                : <span className="badge bg-yellow-100 text-yellow-800">Threshold not met</span>}</div>
              {meta?.label && <div className="text-gray-600">Case: <span className="font-medium">{meta.label}</span></div>}
            </div>
          </div>
        </div>
      );
    }

    // ===== Shared sub-indicator renderer =====
    function SubPanel({dim, values, setValue, locked=false}) {
      const items = SUBS[dim];
      const rated = items.filter(it => (values[it.k]||0) > 0).length;
      const agg = meanToInt(items.map(it => values[it.k]||0));
      return (
        <div className="panel">
          <div className="panel-h flex items-center justify-between">
            <div>
              <div className="font-semibold">{DIMS.find(d=>d.key===dim).label}</div>
              <div className="hint">{DIMS.find(d=>d.key===dim).def}</div>
            </div>
            <div className="text-sm text-gray-600">{rated}/4 rated</div>
          </div>
          <div className="panel-b">
            {items.map(it=>(
              <div key={it.k} className="item-row">
                <div className="flex items-center justify-between">
                  <div className="font-medium text-sm">{it.name}</div>
                  <div className="text-xs text-gray-600">{values[it.k]||0}/4</div>
                </div>
                <div className="hint">{it.hint}</div>
                {locked ? (
                  <>
                    <div className="mt-2 meter"><div className="meter-fill" style={{width: `${((values[it.k]||0)/4)*100}%`}}></div></div>
                    <div className="text-[10px] text-gray-500 mt-1">Locked from historical case</div>
                  </>
                ) : (
                  <input type="range" min="0" max="4" value={values[it.k]||0}
                         onChange={e=> setValue(it.k, Number(e.target.value))}
                         className="w-full mt-2"/>
                )}
              </div>
            ))}
            <div className="mt-3 text-sm">
              <span className="font-medium">Derived {dim} score:</span> {agg}
            </div>
          </div>
        </div>
      );
    }

    // ===== Historical Examples (dropdown + locked sub-panels) =====
    function HistoricalExamples({setScores,setMeta}){
      const keys=Object.keys(EXAMPLES);
      const [sel,setSel]=useState("");
      // Build sub-values from example: use provided sub arrays if present, else replicate dim score.
      const [subs,setSubs]=useState(null);

      const buildSubFromExample = (ex) => {
        const s = {};
        DIMS.forEach(d=>{
          const val = ex.scores[d.key]||0;
          // If ex.sub && ex.sub[d.key] exists and has 4 values, map them onto scaffold order
          const arr = ex.sub && Array.isArray(ex.sub[d.key]) && ex.sub[d.key].length===4
            ? ex.sub[d.key]
            : [val,val,val,val];
          const keys = SUBS[d.key].map(item=>item.k);
          keys.forEach((k,i)=> s[k] = arr[i]);
        });
        return s;
      };

      const load=()=>{
        if(!sel) return;
        const ex = EXAMPLES[sel];
        setMeta({label: sel});
        // Aggregate sub-values (average) to scores for charts
        const subVals = buildSubFromExample(ex);
        const dimScores = {
          Disruption:      meanToInt([subVals.d1,subVals.d2,subVals.d3,subVals.d4]),
          Irreversibility: meanToInt([subVals.i1,subVals.i2,subVals.i3,subVals.i4]),
          Cognitive:       meanToInt([subVals.c1,subVals.c2,subVals.c3,subVals.c4]),
          Generative:      meanToInt([subVals.g1,subVals.g2,subVals.g3,subVals.g4]),
        };
        setSubs(subVals);
        setScores(dimScores);
      };

      const ex = sel ? EXAMPLES[sel] : null;

      return (
        <div className="space-y-6">
          <div>
            <h2 className="text-2xl font-semibold">Historical Examples</h2>
            <p className="italic text-sm text-gray-600 mt-1">
              Select a case from the dropdown, study its scaffolded sub-indicators, then click “Load Example into Charts” to visualize the aggregated C/I/D/G scores.
            </p>
          </div>

          <div className="flex flex-wrap items-center gap-3">
            <label className="text-sm font-medium">Example</label>
            <select value={sel} onChange={e=>{setSel(e.target.value); setSubs(null);}} className="border rounded-md px-3 py-2 text-sm min-w-[18rem]">
              <option value="">— choose a case —</option>
              {keys.map(k=><option key={k} value={k}>{k}</option>)}
            </select>
            <button onClick={load} className="px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50" disabled={!sel}>
              Load Example into Charts
            </button>
          </div>

          {ex && (
            <div className="grid md:grid-cols-2 gap-6">
              {["Disruption","Irreversibility","Cognitive","Generative"].map(dim=>{
                // Render locked sub-panels using either provided granular subs or replicated dim score
                const subVals = subs ?? (()=> {
                  const seed = {};
                  const v = ex.scores[dim]||0;
                  SUBS[dim].forEach(it => seed[it.k]=v);
                  return seed;
                })();
                const pick = Object.fromEntries(SUBS[dim].map(it => [it.k, subVals[it.k]]));
                const dummySet = ()=>{}; // locked
                return <SubPanel key={dim} dim={dim} values={pick} setValue={dummySet} locked={true} />;
              })}
              <div className="md:col-span-2 panel panel-b text-sm">
                <div className="font-semibold mb-1">Explanation & References</div>
                <div className="text-gray-700 mb-3">{ex.justification}</div>
                {(ex.sources||[]).map((r,i)=>(<div key={i}>• {r}</div>))}
              </div>
            </div>
          )}
        </div>
      );
    }

    // ===== Test Your Idea (interactive scaffold) =====
    function TestYourIdea(){
      const [label,setLabel]=useState("");
      const [sub,setSub]=useState({
        d1:0,d2:0,d3:0,d4:0,
        i1:0,i2:0,i3:0,i4:0,
        c1:0,c2:0,c3:0,c4:0,
        g1:0,g2:0,g3:0,g4:0
      });

      const dimScores = {
        Disruption:      meanToInt([sub.d1,sub.d2,sub.d3,sub.d4]),
        Irreversibility: meanToInt([sub.i1,sub.i2,sub.i3,sub.i4]),
        Cognitive:       meanToInt([sub.c1,sub.c2,sub.c3,sub.c4]),
        Generative:      meanToInt([sub.g1,sub.g2,sub.g3,sub.g4]),
      };

      const setValue = (k,v)=> setSub(s=>({...s,[k]:v}));

      return (
        <div className="space-y-6">
          <div className="panel panel-b">
            <div className="flex flex-col md:flex-row md:items-end md:justify-between gap-4">
              <div>
                <h2 className="text-2xl font-semibold">Test Your Idea</h2>
                <p className="italic text-sm text-gray-600">
                  Adjust the four sub-indicators under each dimension. The tool averages them to derive C/I/D/G for visualization. Justify choices outside the tool.
                </p>
              </div>
              <div className="flex items-center gap-3">
                <label className="text-sm font-medium">Case title</label>
                <input value={label} onChange={e=>setLabel(e.target.value)}
                       className="border rounded-md px-3 py-2 text-sm w-72" placeholder="e.g., AI-enabled fires deconfliction"/>
              </div>
            </div>

            <div className="mt-5 grid md:grid-cols-2 gap-6">
              {["Disruption","Irreversibility","Cognitive","Generative"].map(dim=>{
                const pick = Object.fromEntries(SUBS[dim].map(it => [it.k, sub[it.k]]));
                return <SubPanel key={dim} dim={dim} values={pick} setValue={setValue} locked={false} />;
              })}
            </div>
          </div>

          <ChartsPanel scores={dimScores} meta={{label}}/>
        </div>
      );
    }

    // ===== Tabs + App =====
    function Tabs({tab,setTab}){
      const items=[
        {k:'examples',label:'Historical Examples'},
        {k:'charts',label:'Charts'},
        {k:'test',label:'Test Your Idea'}
      ];
      return (
        <div className="big-tabs">
          {items.map(t=>(
            <button key={t.k} onClick={()=>setTab(t.k)}
              className={`big-tab ${tab===t.k?'big-tab-active':'big-tab-inactive'}`}>{t.label}</button>
          ))}
        </div>
      );
    }

    function Legend(){
      return (
        <div className="panel panel-b text-sm">
          <div className="font-semibold mb-2">Scoring Legend</div>
          <ul className="list-disc list-inside text-gray-700 space-y-1">
            <li><b>0</b> = Not applicable / none</li>
            <li><b>1</b> = Minimal impact</li>
            <li><b>2</b> = Limited but measurable impact</li>
            <li><b>3</b> = Significant impact</li>
            <li><b>4</b> = Transformative impact</li>
          </ul>
        </div>
      );
    }

    function App(){
      const [tab,setTab]=useState('examples');
      const [scores,setScores]=useState({Cognitive:0,Irreversibility:0,Disruption:0,Generative:0});
      const [meta,setMeta]=useState({label:""});

      return (
        <main>
          <header className="text-center space-y-1 mb-4">
            <h1 className="text-4xl md:text-5xl font-extrabold text-gray-900">
              Military Innovation Assessment Framework
            </h1>
            <h2 className="text-xl md:text-2xl font-bold text-gray-800">
              A Four-Dimensional Recognition Tool
            </h2>
            <div className="italic text-md md:text-lg text-gray-700">
              Based on "Military Innovation: Between the Knowns and the Unknowns"
            </div>
            <div className="text-xs text-gray-500 mt-1">(c) Manabrata Guha, 2025</div>
          </header>

          <Tabs tab={tab} setTab={setTab}/>
          <Legend/>

          <section className="space-y-6">
            {tab==='examples' && (<><HistoricalExamples setScores={setScores} setMeta={setMeta}/><ChartsPanel scores={scores} meta={meta}/></>)}
            {tab==='charts' && (<ChartsPanel scores={scores} meta={meta}/>)}
            {tab==='test' && (<TestYourIdea/>)}
          </section>

          <footer className="mt-10 text-center text-xs text-gray-500">Single-file. Copy into your repo and open in a browser.</footer>
        </main>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>
